# Web Server Configuration
web_server:
  type: "nginx"  # or "apache"
  log_path: "/var/log/nginx/access.log"
  error_log_path: "/var/log/nginx/error.log"
  log_format: "detailed"
  
# Application Configuration
applications:
  app1:
    name: "Juice Shop"
    type: "nodejs"
    port: 8080
    path: "applications/app1-juice-shop"
    log_path: "/var/log/nginx/access.log"
    startup: "npm start"
  app2:
    name: "WebGoat"
    type: "java"
    port: 8081
    path: "applications/app2-webgoat"
    log_path: "/var/log/nginx/access.log"
    startup: "java -jar webgoat-container/target/webgoat-*.jar --server.port=8081"
  app3:
    name: "DVWA"
    type: "php"
    port: 8082
    path: "applications/app3-dvwa"
    log_path: "/var/log/nginx/access.log"
    startup: "php -S localhost:8082"

# Data Paths
data:
  raw_logs: "data/raw"
  processed: "data/processed"
  normalized: "data/normalized"
  training: "data/training"
  validation: "data/validation"
  test: "data/test"

# Model Configuration
model:
  checkpoint_dir: "models/checkpoints"
  vocabulary_dir: "models/vocabularies"
  deployed_dir: "models/deployed"

# WAF Service
waf_service:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  timeout: 5.0

# Log Ingestion Configuration
ingestion:
  batch:
    chunk_size: 1000
    max_lines: null  # null = no limit
    skip_lines: 0
  
  streaming:
    poll_interval: 0.1
    follow: true
    buffer_size: 10000
  
  retry:
    max_retries: 3
    initial_delay: 1.0
    max_delay: 60.0
    exponential_base: 2.0
